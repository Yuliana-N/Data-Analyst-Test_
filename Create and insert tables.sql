------- создание таблиц--------------

CREATE TABLE USERS (
  USERID INTEGER NOT NULL PRIMARY KEY,
  AGE INTEGER NOT NULL
);

CREATE TABLE ITEMS (
  ITEMID INTEGER NOT NULL PRIMARY KEY,
  PRICE NUMERIC(10,2) NOT NULL
);

CREATE TABLE PURCHASES (
  PURCHASEID INTEGER NOT NULL PRIMARY KEY,
  USERID INTEGER NOT NULL,
  ITEMID INTEGER NOT NULL,
  "DATE" DATE,
  CONSTRAINT FK_USERID FOREIGN KEY (USERID) REFERENCES USERS(USERID),
  CONSTRAINT FK_ITEMID FOREIGN KEY (ITEMID) REFERENCES ITEMS(ITEMID)
);


---- заполнение таблиц------------

INSERT INTO PURCHASES (PURCHASEID, USERID, ITEMID, "DATE") --2023 год
VALUES
  (1, 1, 1, '2023-05-31'),
  (2, 1, 2, '2023-06-01'),
  (3, 2, 3, '2023-01-01'),
  (4, 2, 1, '2023-03-01'),
  (5, 2, 1, '2023-03-31'),
  (6, 2, 3, '2023-05-31'),
  (7, 2, 4, '2023-06-01'),
  (9, 3, 4, '2023-02-28'),
  (10, 3, 1, '2023-03-01'),
  (11, 3, 1, '2023-02-01'),
  (12, 3, 2, '2023-05-31'),
  (13, 3, 3, '2023-06-01'),
  (14, 4, 1, '2023-04-30'),
  (15, 4, 2, '2023-05-01'),
  (16, 4, 2, '2023-06-27'),
  (17, 5, 2, '2023-05-01'),
  (18, 5, 2, '2023-05-31'),
  (19, 5, 3, '2023-06-01'),
  (20, 5, 4, '2023-06-27'),
  (21, 6, 3, '2023-02-28'),
  (22, 6, 1, '2023-03-01'),
  (23, 6, 1, '2023-03-31'),
  (24, 6, 3, '2023-05-31'),
  (25, 6, 4, '2023-06-01'),
  (26, 7, 4, '2023-01-01'),
  (27, 7, 1, '2023-01-31'),
  (28, 7, 1, '2023-02-01'),
  (29, 7, 2, '2023-05-31'),
  (30, 7, 3, '2023-06-01'),
  (31, 8, 4, '2023-01-01'),
  (32, 8, 1, '2023-01-31'),
  (33, 8, 1, '2023-02-01'),
  (34, 8, 2, '2023-05-31'),
  (35, 8, 3, '2023-06-01'),
  (36, 9, 2, '2023-01-01'),
  (37, 9, 1, '2023-02-28'),
  (38, 9, 4, '2023-03-01'),
  (39, 9, 2, '2023-05-31'),
  (40, 9, 2, '2023-06-01'),
  (41, 10, 2, '2023-01-31'),
  (42, 10, 1, '2023-02-28'),
  (43, 10, 4, '2023-03-31'),
  (44, 10, 2, '2023-04-30'),
  (45, 10, 2, '2023-05-01');
  
INSERT INTO PURCHASES (PURCHASEID, USERID, ITEMID, "DATE") -- 2022 год
VALUES 
(46, 1, 4, '2022-01-01'),
(47, 8, 1, '2022-01-31'),
(48, 1, 1, '2022-02-28'),
(49, 8, 1, '2022-03-31'),
(50, 2, 3, '2022-04-30'),
(51, 9, 2, '2022-05-31'),
(52, 3, 1, '2022-06-30'),
(53, 9, 4, '2022-07-31'),
(54, 4, 3, '2022-08-31'),
(55, 9, 2, '2022-09-30'),
(56, 1, 1, '2022-10-31'),
(57, 9, 1, '2022-11-30'),
(58, 8, 2, '2022-12-31'),
(59, 10, 2, '2022-12-01');


INSERT INTO USERS (USERID, AGE)
VALUES
(1, 17),
(2, 18),
(3, 19),
(4, 25),
(5, 26),
(6, 32),
(7, 35),
(8, 36),
(9, 42),
(10, 55);

INSERT INTO ITEMS (ITEMID, PRICE)
VALUES
(1, 10.99),
(2, 20.49),
(3, 15.99),
(4, 5.99);

---- проверка---------
SELECT * from PURCHASES
SELECT * from ITEMS
SELECT * from USERS




